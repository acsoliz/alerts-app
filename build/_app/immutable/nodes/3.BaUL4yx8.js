import{D as Pe,E as Re,F as se,G as Te,s as oe,k as Z,a as M,e as N,g as q,c as H,b as y,q as V,f as d,r as z,i as b,h as U,H as ge,m as ne,A as J,t as B,d as D,j as be,I as K,l as re,o as je,n as j}from"../chunks/index.CW2tjuvO.js";import{g as we,a as k,c as ke,t as h,S as ue,i as ce,b as C,d as E,m as I,e as S,f as Q}from"../chunks/index.Cnp26-RT.js";import{u as ae,s as x}from"../chunks/index.oQe2LwrV.js";import{s as he,g as ve}from"../chunks/hooks.client.DLkHWr_C.js";import{C as Ce,a as Ee,b as Ie,c as Se,d as Me,L as X,I as Y,B as qe}from"../chunks/card-title.QzCVlPPQ.js";import{g as $e}from"../chunks/entry.eRuhjKLE.js";function Be(r,e){const s=e.token={};function t(a,n,o,_){if(e.token!==s)return;e.resolved=_;let $=e.ctx;o!==void 0&&($=$.slice(),$[o]=_);const i=a&&(e.current=a)($);let m=!1;e.block&&(e.blocks?e.blocks.forEach((p,g)=>{g!==n&&p&&(we(),k(p,1,1,()=>{e.blocks[g]===p&&(e.blocks[g]=null)}),ke())}):e.block.d(1),i.c(),h(i,1),i.m(e.mount(),e.anchor),m=!0),e.block=i,e.blocks&&(e.blocks[n]=i),m&&Te()}if(Pe(r)){const a=Re();if(r.then(n=>{se(a),t(e.then,1,e.value,n),se(null)},n=>{if(se(a),t(e.catch,2,e.error,n),se(null),!e.hasCatch)throw n}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function De(r,e,s){const t=e.slice(),{resolved:a}=r;r.current===r.then&&(t[r.value]=a),r.current===r.catch&&(t[r.error]=a),r.block.p(t,s)}function Le(r){let e;return{c(){e=B("Iniciar Sesion")},l(s){e=D(s,"Iniciar Sesion")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function Ne(r){let e;return{c(){e=B("Escribe tu email y contraseña")},l(s){e=D(s,"Escribe tu email y contraseña")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function He(r){let e,s,t,a;return e=new Se({props:{class:"text-3xl font-bold",$$slots:{default:[Le]},$$scope:{ctx:r}}}),t=new Me({props:{$$slots:{default:[Ne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),s=M(),C(t.$$.fragment)},l(n){E(e.$$.fragment,n),s=q(n),E(t.$$.fragment,n)},m(n,o){I(e,n,o),b(n,s,o),I(t,n,o),a=!0},p(n,o){const _={};o&128&&(_.$$scope={dirty:o,ctx:n}),e.$set(_);const $={};o&128&&($.$$scope={dirty:o,ctx:n}),t.$set($)},i(n){a||(h(e.$$.fragment,n),h(t.$$.fragment,n),a=!0)},o(n){k(e.$$.fragment,n),k(t.$$.fragment,n),a=!1},d(n){n&&d(s),S(e,n),S(t,n)}}}function Ue(r){let e;return{c(){e=B("Email")},l(s){e=D(s,"Email")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function Ae(r){let e;return{c(){e=B("Contraseña")},l(s){e=D(s,"Contraseña")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function Fe(r){let e;return{c(){e=B("Iniciar sesión")},l(s){e=D(s,"Iniciar sesión")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function Oe(r){let e,s=r[0].domMsg+"",t,a,n,o,_,$,i,m,p,g,T,c,f,R;n=new X({props:{for:"email",$$slots:{default:[Ue]},$$scope:{ctx:r}}});function P(u){r[3](u)}let A={type:"email",placeholder:"m@ejemplo.com",class:"input"};r[0].email!==void 0&&(A.value=r[0].email),_=new Y({props:A}),J.push(()=>Q(_,"value",P)),m=new X({props:{for:"password",$$slots:{default:[Ae]},$$scope:{ctx:r}}});function F(u){r[4](u)}let L={type:"password",class:"input"};return r[0].password!==void 0&&(L.value=r[0].password),g=new Y({props:L}),J.push(()=>Q(g,"value",F)),f=new qe({props:{class:"text-white",loader:r[0].loader,loader_title:"Logging",$$slots:{default:[Fe]},$$scope:{ctx:r}}}),f.$on("click",r[2]),{c(){e=N("p"),t=B(s),a=M(),C(n.$$.fragment),o=M(),C(_.$$.fragment),i=M(),C(m.$$.fragment),p=M(),C(g.$$.fragment),c=M(),C(f.$$.fragment),this.h()},l(u){e=H(u,"P",{class:!0});var v=y(e);t=D(v,s),v.forEach(d),a=q(u),E(n.$$.fragment,u),o=q(u),E(_.$$.fragment,u),i=q(u),E(m.$$.fragment,u),p=q(u),E(g.$$.fragment,u),c=q(u),E(f.$$.fragment,u),this.h()},h(){z(e,"class","")},m(u,v){b(u,e,v),U(e,t),b(u,a,v),I(n,u,v),b(u,o,v),I(_,u,v),b(u,i,v),I(m,u,v),b(u,p,v),I(g,u,v),b(u,c,v),I(f,u,v),R=!0},p(u,v){(!R||v&1)&&s!==(s=u[0].domMsg+"")&&be(t,s);const G={};v&128&&(G.$$scope={dirty:v,ctx:u}),n.$set(G);const ee={};!$&&v&1&&($=!0,ee.value=u[0].email,K(()=>$=!1)),_.$set(ee);const W={};v&128&&(W.$$scope={dirty:v,ctx:u}),m.$set(W);const te={};!T&&v&1&&(T=!0,te.value=u[0].password,K(()=>T=!1)),g.$set(te);const O={};v&1&&(O.loader=u[0].loader),v&128&&(O.$$scope={dirty:v,ctx:u}),f.$set(O)},i(u){R||(h(n.$$.fragment,u),h(_.$$.fragment,u),h(m.$$.fragment,u),h(g.$$.fragment,u),h(f.$$.fragment,u),R=!0)},o(u){k(n.$$.fragment,u),k(_.$$.fragment,u),k(m.$$.fragment,u),k(g.$$.fragment,u),k(f.$$.fragment,u),R=!1},d(u){u&&(d(e),d(a),d(o),d(i),d(p),d(c)),S(n,u),S(_,u),S(m,u),S(g,u),S(f,u)}}}function Ve(r){let e,s,t,a,n,o,_="Don't have an account yet?",$,i,m="Register here",p,g,T;return e=new Ee({props:{$$slots:{default:[He]},$$scope:{ctx:r}}}),t=new Ie({props:{class:"grid gap-4",$$slots:{default:[Oe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),s=M(),C(t.$$.fragment),a=M(),n=N("div"),o=N("p"),o.textContent=_,$=M(),i=N("button"),i.textContent=m,this.h()},l(c){E(e.$$.fragment,c),s=q(c),E(t.$$.fragment,c),a=q(c),n=H(c,"DIV",{class:!0});var f=y(n);o=H(f,"P",{"data-svelte-h":!0}),V(o)!=="svelte-o6bikh"&&(o.textContent=_),$=q(f),i=H(f,"BUTTON",{class:!0,"data-svelte-h":!0}),V(i)!=="svelte-1b7vdps"&&(i.textContent=m),f.forEach(d),this.h()},h(){z(i,"class",""),z(n,"class","")},m(c,f){I(e,c,f),b(c,s,f),I(t,c,f),b(c,a,f),b(c,n,f),U(n,o),U(n,$),U(n,i),p=!0,g||(T=ge(i,"click",r[5]),g=!0)},p(c,f){const R={};f&128&&(R.$$scope={dirty:f,ctx:c}),e.$set(R);const P={};f&129&&(P.$$scope={dirty:f,ctx:c}),t.$set(P)},i(c){p||(h(e.$$.fragment,c),h(t.$$.fragment,c),p=!0)},o(c){k(e.$$.fragment,c),k(t.$$.fragment,c),p=!1},d(c){c&&(d(s),d(a),d(n)),S(e,c),S(t,c),g=!1,T()}}}function ze(r){let e,s;return e=new Ce({props:{class:"w-[380px]",$$slots:{default:[Ve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){I(e,t,a),s=!0},p(t,[a]){const n={};a&131&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function Ge(r,e,s){let t,a;Z(r,ae,m=>s(6,t=m)),Z(r,x,m=>s(1,a=m));const n={loader:!1,domMsg:"",email:"",password:""},o=async()=>{var g;s(0,n.loader=!0,n);const{data:m,error:p}=await he.auth.signInWithPassword({email:n.email,password:n.password});p?(s(0,n.domMsg=`Error at ${p.status} ${p.message}`,n),s(0,n.loader=!1,n)):(s(0,n.loader=!1,n),$e("/"),ne(ae,t=(g=m.session)==null?void 0:g.access_token,t))};function _(m){r.$$.not_equal(n.email,m)&&(n.email=m,s(0,n))}function $(m){r.$$.not_equal(n.password,m)&&(n.password=m,s(0,n))}return[n,a,o,_,$,()=>ne(x,a.showReg=!0,a)]}class We extends ue{constructor(e){super(),ce(this,e,Ge,ze,oe,{})}}function Je(r){let e;return{c(){e=B("Registrar")},l(s){e=D(s,"Registrar")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function Ke(r){let e;return{c(){e=B("Escribe tu email y una contraseña, te enviaremos un correo para validar")},l(s){e=D(s,"Escribe tu email y una contraseña, te enviaremos un correo para validar")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function Qe(r){let e,s,t,a;return e=new Se({props:{class:"text-3xl font-bold",$$slots:{default:[Je]},$$scope:{ctx:r}}}),t=new Me({props:{$$slots:{default:[Ke]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),s=M(),C(t.$$.fragment)},l(n){E(e.$$.fragment,n),s=q(n),E(t.$$.fragment,n)},m(n,o){I(e,n,o),b(n,s,o),I(t,n,o),a=!0},p(n,o){const _={};o&256&&(_.$$scope={dirty:o,ctx:n}),e.$set(_);const $={};o&256&&($.$$scope={dirty:o,ctx:n}),t.$set($)},i(n){a||(h(e.$$.fragment,n),h(t.$$.fragment,n),a=!0)},o(n){k(e.$$.fragment,n),k(t.$$.fragment,n),a=!1},d(n){n&&d(s),S(e,n),S(t,n)}}}function Xe(r){let e;return{c(){e=B("Email")},l(s){e=D(s,"Email")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function Ye(r){let e;return{c(){e=B("Contraseña")},l(s){e=D(s,"Contraseña")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function Ze(r){let e;return{c(){e=B("Confirma tu Contraseña")},l(s){e=D(s,"Confirma tu Contraseña")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function xe(r){let e;return{c(){e=B("Enviar email de validacion")},l(s){e=D(s,"Enviar email de validacion")},m(s,t){b(s,e,t)},d(s){s&&d(e)}}}function ye(r){let e,s=r[0].domMsg+"",t,a,n,o,_,$,i,m,p,g,T,c,f,R,P,A,F,L,u;n=new X({props:{for:"email",$$slots:{default:[Xe]},$$scope:{ctx:r}}});function v(l){r[3](l)}let G={type:"email",placeholder:"m@ejemplo.com",class:"input"};r[0].email!==void 0&&(G.value=r[0].email),_=new Y({props:G}),J.push(()=>Q(_,"value",v)),m=new X({props:{for:"password",$$slots:{default:[Ye]},$$scope:{ctx:r}}});function ee(l){r[4](l)}let W={type:"password",class:"input"};r[0].password!==void 0&&(W.value=r[0].password),g=new Y({props:W}),J.push(()=>Q(g,"value",ee)),f=new X({props:{for:"password-confirmation",$$slots:{default:[Ze]},$$scope:{ctx:r}}});function te(l){r[5](l)}let O={type:"password",class:"input"};return r[0].password!==void 0&&(O.value=r[0].password),P=new Y({props:O}),J.push(()=>Q(P,"value",te)),L=new qe({props:{loader:r[0].loader,loader_title:"Registering",$$slots:{default:[xe]},$$scope:{ctx:r}}}),L.$on("click",r[2]),{c(){e=N("p"),t=B(s),a=M(),C(n.$$.fragment),o=M(),C(_.$$.fragment),i=M(),C(m.$$.fragment),p=M(),C(g.$$.fragment),c=M(),C(f.$$.fragment),R=M(),C(P.$$.fragment),F=M(),C(L.$$.fragment),this.h()},l(l){e=H(l,"P",{class:!0});var w=y(e);t=D(w,s),w.forEach(d),a=q(l),E(n.$$.fragment,l),o=q(l),E(_.$$.fragment,l),i=q(l),E(m.$$.fragment,l),p=q(l),E(g.$$.fragment,l),c=q(l),E(f.$$.fragment,l),R=q(l),E(P.$$.fragment,l),F=q(l),E(L.$$.fragment,l),this.h()},h(){z(e,"class","")},m(l,w){b(l,e,w),U(e,t),b(l,a,w),I(n,l,w),b(l,o,w),I(_,l,w),b(l,i,w),I(m,l,w),b(l,p,w),I(g,l,w),b(l,c,w),I(f,l,w),b(l,R,w),I(P,l,w),b(l,F,w),I(L,l,w),u=!0},p(l,w){(!u||w&1)&&s!==(s=l[0].domMsg+"")&&be(t,s);const fe={};w&256&&(fe.$$scope={dirty:w,ctx:l}),n.$set(fe);const ie={};!$&&w&1&&($=!0,ie.value=l[0].email,K(()=>$=!1)),_.$set(ie);const pe={};w&256&&(pe.$$scope={dirty:w,ctx:l}),m.$set(pe);const _e={};!T&&w&1&&(T=!0,_e.value=l[0].password,K(()=>T=!1)),g.$set(_e);const me={};w&256&&(me.$$scope={dirty:w,ctx:l}),f.$set(me);const de={};!A&&w&1&&(A=!0,de.value=l[0].password,K(()=>A=!1)),P.$set(de);const le={};w&1&&(le.loader=l[0].loader),w&256&&(le.$$scope={dirty:w,ctx:l}),L.$set(le)},i(l){u||(h(n.$$.fragment,l),h(_.$$.fragment,l),h(m.$$.fragment,l),h(g.$$.fragment,l),h(f.$$.fragment,l),h(P.$$.fragment,l),h(L.$$.fragment,l),u=!0)},o(l){k(n.$$.fragment,l),k(_.$$.fragment,l),k(m.$$.fragment,l),k(g.$$.fragment,l),k(f.$$.fragment,l),k(P.$$.fragment,l),k(L.$$.fragment,l),u=!1},d(l){l&&(d(e),d(a),d(o),d(i),d(p),d(c),d(R),d(F)),S(n,l),S(_,l),S(m,l),S(g,l),S(f,l),S(P,l),S(L,l)}}}function et(r){let e,s,t,a,n,o,_="tienes una cuenta?",$,i,m="Inicia sesion",p,g,T;return e=new Ee({props:{$$slots:{default:[Qe]},$$scope:{ctx:r}}}),t=new Ie({props:{class:"grid gap-4",$$slots:{default:[ye]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),s=M(),C(t.$$.fragment),a=M(),n=N("div"),o=N("p"),o.textContent=_,$=M(),i=N("button"),i.textContent=m,this.h()},l(c){E(e.$$.fragment,c),s=q(c),E(t.$$.fragment,c),a=q(c),n=H(c,"DIV",{class:!0});var f=y(n);o=H(f,"P",{"data-svelte-h":!0}),V(o)!=="svelte-14zqo1h"&&(o.textContent=_),$=q(f),i=H(f,"BUTTON",{class:!0,"data-svelte-h":!0}),V(i)!=="svelte-spb4xo"&&(i.textContent=m),f.forEach(d),this.h()},h(){z(i,"class",""),z(n,"class","")},m(c,f){I(e,c,f),b(c,s,f),I(t,c,f),b(c,a,f),b(c,n,f),U(n,o),U(n,$),U(n,i),p=!0,g||(T=ge(i,"click",r[6]),g=!0)},p(c,f){const R={};f&256&&(R.$$scope={dirty:f,ctx:c}),e.$set(R);const P={};f&257&&(P.$$scope={dirty:f,ctx:c}),t.$set(P)},i(c){p||(h(e.$$.fragment,c),h(t.$$.fragment,c),p=!0)},o(c){k(e.$$.fragment,c),k(t.$$.fragment,c),p=!1},d(c){c&&(d(s),d(a),d(n)),S(e,c),S(t,c),g=!1,T()}}}function tt(r){let e,s;return e=new Ce({props:{class:"w-[380px]",$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){I(e,t,a),s=!0},p(t,[a]){const n={};a&259&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function st(r,e,s){let t,a;Z(r,ae,p=>s(7,t=p)),Z(r,x,p=>s(1,a=p));const n={loader:!1,domMsg:"",email:"",password:""},o=async()=>{s(0,n.loader=!0,n);const{data:{session:p},error:g}=await he.auth.signUp({email:n.email,password:n.password});g?(s(0,n.domMsg=`Error at ${g.status} ${g.message}`,n),s(0,n.loader=!1,n)):($e("/"),ne(ae,t=p==null?void 0:p.access_token,t),s(0,n.loader=!1,n))};function _(p){r.$$.not_equal(n.email,p)&&(n.email=p,s(0,n))}function $(p){r.$$.not_equal(n.password,p)&&(n.password=p,s(0,n))}function i(p){r.$$.not_equal(n.password,p)&&(n.password=p,s(0,n))}return[n,a,o,_,$,i,()=>ne(x,a.showReg=!1,a)]}class nt extends ue{constructor(e){super(),ce(this,e,st,tt,oe,{})}}function rt(r){return{c:j,l:j,m:j,p:j,i:j,o:j,d:j}}function at(r){let e,s,t,a;const n=[ot,lt],o=[];function _($,i){return $[1]?0:1}return e=_(r),s=o[e]=n[e](r),{c(){s.c(),t=re()},l($){s.l($),t=re()},m($,i){o[e].m($,i),b($,t,i),a=!0},p($,i){s.p($,i)},i($){a||(h(s),a=!0)},o($){k(s),a=!1},d($){$&&d(t),o[e].d($)}}}function lt(r){let e,s,t,a;const n=[ct,ut],o=[];function _($,i){return $[0].showReg?0:1}return s=_(r),t=o[s]=n[s](r),{c(){e=N("main"),t.c()},l($){e=H($,"MAIN",{});var i=y(e);t.l(i),i.forEach(d)},m($,i){b($,e,i),o[s].m(e,null),a=!0},p($,i){let m=s;s=_($),s!==m&&(we(),k(o[m],1,1,()=>{o[m]=null}),ke(),t=o[s],t||(t=o[s]=n[s]($),t.c()),h(t,1),t.m(e,null))},i($){a||(h(t),a=!0)},o($){k(t),a=!1},d($){$&&d(e),o[s].d()}}}function ot(r){let e,s="nice try hackers";return{c(){e=N("p"),e.textContent=s},l(t){e=H(t,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1upw3m1"&&(e.textContent=s)},m(t,a){b(t,e,a)},p:j,i:j,o:j,d(t){t&&d(e)}}}function ut(r){let e,s;return e=new We({}),{c(){C(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){I(e,t,a),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function ct(r){let e,s;return e=new nt({}),{c(){C(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){I(e,t,a),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function $t(r){let e,s="Firewall checking";return{c(){e=N("p"),e.textContent=s},l(t){e=H(t,"P",{"data-svelte-h":!0}),V(e)!=="svelte-imdjiw"&&(e.textContent=s)},m(t,a){b(t,e,a)},p:j,i:j,o:j,d(t){t&&d(e)}}}function ft(r){let e,s,t={ctx:r,current:null,token:null,hasCatch:!1,pending:$t,then:at,catch:rt,value:1,blocks:[,,,]};return Be(ve(),t),{c(){e=re(),t.block.c()},l(a){e=re(),t.block.l(a)},m(a,n){b(a,e,n),t.block.m(a,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e,s=!0},p(a,[n]){r=a,De(t,r,n)},i(a){s||(h(t.block),s=!0)},o(a){for(let n=0;n<3;n+=1){const o=t.blocks[n];k(o)}s=!1},d(a){a&&d(e),t.block.d(a),t.token=null,t=null}}}function it(r,e,s){let t;return Z(r,x,a=>s(0,t=a)),je(async()=>{await ve()&&$e("/")}),[t]}class wt extends ue{constructor(e){super(),ce(this,e,it,ft,oe,{})}}export{wt as component};
